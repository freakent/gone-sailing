{% if page.layout == "front_page" %}
  {% assign navbar_class = "navbar-dark bg-transparent" %}
  {% assign text_class = "text-light" %}
{% else %}
  {% assign navbar_class = "navbar-light bg-white" %}
  {% assign text_class = "text-dark" %}
{% endif %}

<header>
   <nav id="navbar" class="navbar navbar-expand-md fixed-top {{ navbar_class }}">
     <a class="navbar-brand" href="./">Gone Sailing</a>
    
     <button id="toggled" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
       <span class="navbar-toggler-icon"></span>
     </button>
    
     <div class="collapse navbar-collapse justify-content-between " id="navbarCollapse">

       <ul class="navbar-nav">
         <li class="nav-item" id="crew">
           <a class="nav-link" href="#">Crew</a>
         </li>
         <li class="nav-item">
           <a class="nav-link" href="#">Our Boat</a>
         </li>
         <li class="nav-item">
           <a class="nav-link" href="#">Cruising</a>
         </li>
         <li class="nav-item">
           <a class="nav-link" href="#">Boat Jobs</a>
         </li>
         <li class="nav-item">
           <a class="nav-link" href="#">Boat Buying</a>
         </li>
        </ul>

        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" href="https://www.instagram.com/mr.martin.jarvis/" target="_blank" data-toggle="tooltip" data-placement="bottom" title="Follow on Instagram">
                  <span class="align-middle">
                  <i id="ig-icon" class="fab fa-instagram fa-2x {{ text_class }}"></i>
                  <span class="d-md-none">
                    Follow on Instagram
                  </span>
                </span>
                </a>
            </li>
        </ul>

      </div>
   </nav>
 </header>

<script>
  function navbar_white() {
    document.getElementById("navbar").classList.remove("navbar-dark", "bg-transparent");
    document.getElementById("navbar").classList.add("navbar-light", "bg-white");
    document.getElementById("ig-icon").classList.remove("text-light");
    document.getElementById("ig-icon").classList.add("text-dark");
  }

  function navbar_transparent() {
    document.getElementById("navbar").classList.remove("navbar-light", "bg-white");
    document.getElementById("navbar").classList.add("navbar-dark", "bg-transparent");
    document.getElementById("ig-icon").classList.remove("text-dark");
    document.getElementById("ig-icon").classList.add("text-light");
  }

  window.onscroll = function() {scrollFunction()};

  function scrollFunction() {
    if ("{{page.layout}}" == "front_page") {
      document.getElementById("debug").innerText = document.documentElement.scrollTop

      if (document.body.scrollTop > 80 || document.documentElement.scrollTop > 80) {
        navbar_white()
      } else {
        $(".navbar-collapse").collapse('hide')
        navbar_transparent()
      }

    } 
  }

  $( document ).ready(function() {
    $('.navbar-collapse').on('show.bs.collapse', function() {
      navbar_white()
    })

  });


 </script>
